# =============================================
# SERVER CONFIGURATION
# =============================================
server.port=8671

# =============================================
# SPRING APPLICATION
# =============================================
spring.application.name=discovery-service

# =============================================
# SPRING SECURITY
# =============================================
spring.security.user.name=eureka
spring.security.user.password=password

# =============================================
# SPRING CLOUD NETWORK
# =============================================
spring.cloud.inetutils.preferred-networks=192.168,10.0,172.16

# =============================================
# EUREKA CLIENT CONFIGURATION
# =============================================
eureka.client.register-with-eureka=false
eureka.client.fetch-registry=false

eureka.client.service-url.defaultZone=http://localhost:8671/eureka/
eureka.client.registry-fetch-interval-seconds=10

# =============================================
# EUREKA INSTANCE CONFIGURATION
# =============================================
eureka.instance.hostname=discovery-service
eureka.instance.prefer-ip-address=true
eureka.instance.instance-id=${eureka.instance.hostname}:${server.port}
eureka.instance.lease-renewal-interval-in-seconds=10
eureka.instance.lease-expiration-duration-in-seconds=30
eureka.instance.ip-address=${DOCKER_HOST_IP:discovery-service}

# =============================================
# EUREKA SERVER CONFIGURATION
# =============================================
eureka.server.enable-self-preservation=true
eureka.server.renewal-percent-threshold=0.85
eureka.server.eviction-interval-timer-in-ms=15000
eureka.server.wait-time-in-ms-when-sync-empty=0
eureka.server.response-cache-update-interval-ms=30000

# =============================================
# MANAGEMENT ENDPOINTS
# =============================================
management.endpoints.web.exposure.include=health,info,metrics,env
management.endpoints.enabled-by-default=true

management.endpoint.health.enabled=true
management.endpoint.health.show-details=always
management.endpoint.health.show-components=always
management.endpoint.metrics.enabled=true

management.health.diskspace.enabled=true
management.health.db.enabled=false

# =============================================
# LOGGING CONFIGURATION
# =============================================
logging.level.com.netflix.eureka=INFO
logging.level.com.netflix.discovery=INFO
logging.level.org.springframework.cloud=INFO
logging.level.org.springframework.security=INFO

logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.level=%5p [${spring.application.name:},%X{traceId:-},%X{spanId:-}]
